import random


class TicTacToe:
    match_number = 0
    wins = 0
    losses = 0
    ties = 0
    def __init__(self):
        self.board = []
        TicTacToe.match_number += 1
        self.game = TicTacToe.match_number
    def side(self):
        if (random.randint(0,1) == 1):
            return "X"
        else:
            return "O"
    def make_board(self):
        for i in range(3):
            row = []
            for j in range(3):
                row.append("_")
            self.board.append(row)
    def show_board(self):
        print()
        for row in self.board:
            for item in row:
                print(item, end="  ")
            print()
    def swap_player_turn(self, player):
        return "X" if player == "O" else "O"
    def game_over(self, player):
        win = None
        n = len(self.board)
        #rows check
        for i in range(n):
            win = True
            for j in range(n):
                if self.board[i][j] != player:
                    win = False
                    break
            if win:
                return win
            #colum check
            for i in range(n):
                win = True
                for j in range(n):
                    if self.board[j][i] != player:
                        win = False
                        break
                if win:
                   return win
            # diagonals check
            for i in range(n):
                win = True 
                if self.board[i][j] != player:
                    win = False
                    break
                if win:
                    return win
                for i in range(n):
                    win = True 
                    if self.board[i][-i-1] != player:
                        win = False
                    break
                if win:
                   return win               
                return win
        def set(self, player):
            x = input("Please enter a horizontal row to mark the board from 1, 2, or 3: ")
            y = input("Please enter a vertical column to mark the board from 1, 2, or 3: ") 
            self.board[int(x) - 1][int(y) - 1] = player
        def auto(self, player):
            n = len(self,player)
            store_untouched = []
            for i in range(n):
                for j in range(n):
                    if self.board[i][j] != "X" and self.board[i][j] != "O":
                        store = [i, j]
                        store_untouched.append(store)
            store_len = len(store_untouched)
            if store_len == 0:
                return False 
            comp_choice = random.randint(0, store_len -1)
            comp_area = store.untouched[comp_choice]
            x = comp_area[0]
            y = comp_area[1]
            self.board[x][y] = player 
        def draw(self):
            n = len(self.board)
            for i in range(n):
                for j in range(n):
                    if self.board[i] != "-":
                        return False
                return True
        def strat(self):
            self.make_board()
            player = self.side()
            if player == "X":
               print(f"You are Player {player}.")
            else:
               print(f"You are Player {player}.")
    
            while True:
              self.show_board()
              self.set(player)
              if self.game_over(player):
                self.show_board()
                print(f"Player {player} wins the game.")
                break 
              if self.draw():
                self.show_board()
                print("It's a draw. No player won the game.")
                break
            player = self.swap_player_turn(player)